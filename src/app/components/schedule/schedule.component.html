<div class="dark:bg-neutral-700">
  <nav class="p-4 w-full rounded-md text-neutral-300" *ngIf="idSusbcription">
    <ol class="list-reset flex">
      <li>
        <a href="/suscripciones"
          class="text-primary transition duration-150 ease-in-out hover:text-primary-accent-300 focus:text-primary-accent-300 active:text-primary-accent-300 motion-reduce:transition-none dark:text-primary-400">Cronograma</a>
      </li>
      <li>
        <span class="mx-2 ">/</span>
      </li>
      <li class="">suscripción</li>
      <li>
        <span class="mx-2 ">/</span>
      </li>
      <li class="" style="color:#ee7724">{{idSusbcription}}</li>
    </ol>
  </nav>

  <div class="p-4 flex flex-col ">
    <div class="relative mb-3" data-twe-input-wrapper-init="">
      <input type="search"
        class="peer block min-h-[auto] w-full rounded border-0 bg-transparent px-3 py-[0.32rem] leading-[1.6] outline-none transition-all duration-200 ease-linear focus:placeholder:opacity-100 peer-focus:text-primary data-[twe-input-state-active]:placeholder:opacity-100 motion-reduce:transition-none dark:text-white dark:placeholder:text-neutral-300 dark:autofill:shadow-autofill dark:peer-focus:text-primary [&amp;:not([data-twe-input-placeholder-active])]:placeholder:opacity-0"
        id="datatable-search-input" placeholder="Search">
      <label for="datatable-search-input"
        class="pointer-events-none absolute left-3 top-0 mb-0 max-w-[90%] origin-[0_0] truncate pt-[0.37rem] leading-[1.6] text-neutral-500 transition-all duration-200 ease-out peer-focus:-translate-y-[0.9rem] peer-focus:scale-[0.8] peer-focus:text-primary peer-data-[twe-input-state-active]:-translate-y-[0.9rem] peer-data-[twe-input-state-active]:scale-[0.8] motion-reduce:transition-none dark:text-neutral-400 dark:peer-focus:text-primary"
        style="margin-left: 0px;">Search
      </label>
      <div class="group flex absolute left-0 top-0 w-full max-w-full h-full text-left pointer-events-none"
        data-twe-input-notch-ref="" dir="ltr">
        <div
          class="pointer-events-none border border-solid box-border bg-transparent transition-all duration-200 ease-linear motion-reduce:transition-none left-0 top-0 h-full w-2 border-e-0 rounded-s-[0.25rem] group-data-[twe-input-focused]:border-e-0 group-data-[twe-input-state-active]:border-e-0 border-secondary-500 dark:border-neutral-400 group-data-[twe-input-focused]:shadow-notch-1 group-data-[twe-input-focused]:border-primary"
          data-twe-input-notch-leading-ref="" style="width: 9px;"></div>
        <div
          class="pointer-events-none border border-solid box-border bg-transparent transition-all duration-200 ease-linear motion-reduce:transition-none grow-0 shrink-0 basis-auto w-auto max-w-[calc(100%-1rem)] h-full border-e-0 border-s-0 group-data-[twe-input-focused]:border-x-0 group-data-[twe-input-state-active]:border-x-0 group-data-[twe-input-focused]:border-t group-data-[twe-input-state-active]:border-t group-data-[twe-input-focused]:border-solid group-data-[twe-input-state-active]:border-solid group-data-[twe-input-focused]:border-t-transparent group-data-[twe-input-state-active]:border-t-transparent border-secondary-500 dark:border-neutral-400 group-data-[twe-input-focused]:shadow-notch-2 group-data-[twe-input-focused]:border-primary"
          data-twe-input-notch-middle-ref="" style="width: 47.2px;"></div>
        <div
          class="pointer-events-none border border-solid box-border bg-transparent transition-all duration-200 ease-linear motion-reduce:transition-none grow h-full border-s-0 rounded-e-[0.25rem] group-data-[twe-input-focused]:border-s-0 group-data-[twe-input-state-active]:border-s-0 border-secondary-500 dark:border-neutral-400 group-data-[twe-input-focused]:shadow-notch-3 group-data-[twe-input-focused]:border-primary"
          data-twe-input-notch-trailing-ref=""></div>
      </div>
    </div>
    <div class="overflow-x-auto sm:-mx-6 lg:-mx-8">
      <div class="inline-block min-w-full py-2 sm:px-6 lg:px-8">
        <div class="overflow-hidden">
          <table class="min-w-full text-left text-sm font-light text-surface dark:text-white">
            <thead class="border-b border-neutral-200 font-medium dark:border-white/10">
              <tr>
                <th scope="col" class="px-6 py-4">ID Pago</th>
                <th scope="col" class="px-6 py-4">Fecha de Pago</th>
                <th scope="col" class="px-6 py-4">Cuota</th>
                <th scope="col" class="px-6 py-4">Siguiente F. Expiración</th>
                <th scope="col" class="px-6 py-4">Estado</th>
                <th scope="col" class="px-6 py-4">Total A Pagar</th>
                <th scope="col" class="px-6 py-4">Ver Voucher</th>
              </tr>
            </thead>
            <tbody>
              <ng-container *ngIf="loading; else dataLoaded">
                <tr class="h-96 border-b border-neutral-200 dark:border-white/10">
                  <td colspan="6" class="text-center py-4">
                    Cargando...
                  </td>
                </tr>
              </ng-container>
              <ng-template #dataLoaded>
              <tr class="border-b border-neutral-200 dark:border-white/10" *ngFor="let schedule of scheduleList">
                <td class="whitespace-nowrap px-6 py-4 font-medium">{{ schedule.idPayment }}</td>
                <td class="whitespace-nowrap px-6 py-4 font-medium">{{ schedule.payDate }}</td>
                <td class="whitespace-nowrap px-6 py-4">{{ schedule.quoteDescription }}</td>
                <td class="wrap px-6 py-4">{{ schedule.nextExpiration }}</td>
                <td class="whitespace-nowrap px-6 py-4"
                  [ngClass]="{ 'text-green-500': schedule.verifText === 'Activo', 'text-red-500': schedule.verifText === 'Inactivo' }">
                  {{ schedule.verifText }}
                </td>

                <td class="wrap px-6 py-4">{{ schedule.totalPay }}</td>
                <td
                class="whitespace-nowrap text-clip overflow-auto px-[1.4rem] py-4 border-neutral-200 dark:border-white/10 flex justify-center"
                  data-twe-datatable-cell-ref="" data-twe-field="contact" false="">

                  <button (click)="openModal(schedule.paymentVouchers)"
                    class="whitespace-nowrap text-clip overflow-auto px-[1.4rem] py-4 border-neutral-200 dark:border-white/10 flex justify-center"
                    data-twe-datatable-cell-ref="" data-twe-field="contact" false="">
                    <a type="button" data-twe-ripple-init="" data-twe-ripple-color="dark" data-twe-number="+48000000000"
                      class="call-btn inline-block rounded-full border border-primary p-1.5 me-1 uppercase leading-normal text-primary transition duration-150 ease-in-out hover:border-primary-accent-300 hover:bg-primary-50/50 hover:text-primary-accent-300 focus:border-primary-600 focus:bg-primary-50/50 focus:text-primary-600 focus:outline-none focus:ring-0 active:border-primary-700 active:text-primary-700 dark:text-primary-500 dark:hover:bg-blue-950 dark:focus:bg-blue-950 [&amp;>svg]:h-4 [&amp;>svg]:w-4">
                      <svg fill="none" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"
                        fill="currentColor">

                        <g id="Voucher" fill="currentColor">
                          <path clip-rule="evenodd"
                            d="M0.25 7C0.25 6.0335 1.0335 5.25 2 5.25H22C22.9665 5.25 23.75 6.0335 23.75 7V9C23.75 9.41421 23.4142 9.75 23 9.75C22.5858 9.75 22.25 9.41421 22.25 9V7C22.25 6.86193 22.1381 6.75 22 6.75H2C1.86193 6.75 1.75 6.86193 1.75 7V9C1.75 9.41421 1.41421 9.75 1 9.75C0.585786 9.75 0.25 9.41421 0.25 9V7ZM1 15.25C1.41421 15.25 1.75 15.5858 1.75 16V18C1.75 18.1381 1.86193 18.25 2 18.25H22C22.1381 18.25 22.25 18.1381 22.25 18V16C22.25 15.5858 22.5858 15.25 23 15.25C23.4142 15.25 23.75 15.5858 23.75 16V18C23.75 18.9665 22.9665 19.75 22 19.75H2C1.0335 19.75 0.25 18.9665 0.25 18V16C0.25 15.5858 0.585786 15.25 1 15.25Z"
                            fill="currentColor" fill-rule="evenodd" id="Rectangle 23 (Stroke)" />
                          <path clip-rule="evenodd"
                            d="M22.5 9.75C20.9812 9.75 19.75 10.9812 19.75 12.5C19.75 14.0188 20.9812 15.25 22.5 15.25C22.9142 15.25 23.25 15.5858 23.25 16C23.25 16.4142 22.9142 16.75 22.5 16.75C20.1528 16.75 18.25 14.8472 18.25 12.5C18.25 10.1528 20.1528 8.25 22.5 8.25C22.9142 8.25 23.25 8.58579 23.25 9C23.25 9.41421 22.9142 9.75 22.5 9.75Z"
                            fill="currentColor" fill-rule="evenodd" id="Ellipse 10 (Stroke)" />
                          <path clip-rule="evenodd"
                            d="M0.25 9C0.25 8.58579 0.585786 8.25 1 8.25C3.34721 8.25 5.25 10.1528 5.25 12.5C5.25 14.8472 3.34721 16.75 1 16.75C0.585786 16.75 0.25 16.4142 0.25 16C0.25 15.5858 0.585786 15.25 1 15.25C2.51878 15.25 3.75 14.0188 3.75 12.5C3.75 10.9812 2.51878 9.75 1 9.75C0.585786 9.75 0.25 9.41421 0.25 9Z"
                            fill="currentColor" fill-rule="evenodd" id="Ellipse 11 (Stroke)" />
                          <path clip-rule="evenodd"
                            d="M9 17.25C9.41421 17.25 9.75 17.5858 9.75 18V19C9.75 19.4142 9.41421 19.75 9 19.75C8.58579 19.75 8.25 19.4142 8.25 19V18C8.25 17.5858 8.58579 17.25 9 17.25Z"
                            fill="currentColor" fill-rule="evenodd" id="Vector 28 (Stroke)" />
                          <path clip-rule="evenodd"
                            d="M9 13.25C9.41421 13.25 9.75 13.5858 9.75 14V15C9.75 15.4142 9.41421 15.75 9 15.75C8.58579 15.75 8.25 15.4142 8.25 15V14C8.25 13.5858 8.58579 13.25 9 13.25Z"
                            fill="currentColor" fill-rule="evenodd" id="Vector 29 (Stroke)" />
                          <path clip-rule="evenodd"
                            d="M9 9.25C9.41421 9.25 9.75 9.58579 9.75 10V11C9.75 11.4142 9.41421 11.75 9 11.75C8.58579 11.75 8.25 11.4142 8.25 11V10C8.25 9.58579 8.58579 9.25 9 9.25Z"
                            fill="currentColor" fill-rule="evenodd" id="Vector 30 (Stroke)" />
                          <path clip-rule="evenodd"
                            d="M9 5.25C9.41421 5.25 9.75 5.58579 9.75 6V7C9.75 7.41421 9.41421 7.75 9 7.75C8.58579 7.75 8.25 7.41421 8.25 7V6C8.25 5.58579 8.58579 5.25 9 5.25Z"
                            fill="currentColor" fill-rule="evenodd" id="Vector 31 (Stroke)" />
                        </g>
                      </svg>
                    </a>
                  </button>
                  <button>

                    <a type="button" data-twe-ripple-init="" data-twe-ripple-color="dark"
                        href="pago/suscripcion/{{ schedule.idSuscription }}" data-twe-number="+48000000000"
                      class="call-btn inline-block rounded-full border border-primary p-1.5 me-1 uppercase leading-normal text-primary transition duration-150 ease-in-out hover:border-primary-accent-300 hover:bg-primary-50/50 hover:text-primary-accent-300 focus:border-primary-600 focus:bg-primary-50/50 focus:text-primary-600 focus:outline-none focus:ring-0 active:border-primary-700 active:text-primary-700 dark:text-primary-500 dark:hover:bg-blue-950 dark:focus:bg-blue-950 [&amp;>svg]:h-4 [&amp;>svg]:w-4">
                    Verificar Pago
                    </a>
                  </button>
              </td>

              </tr>
            </ng-template>

            </tbody>
          </table>

          <div *ngIf="isModalOpen"
            class="fixed inset-0 z-50 flex items-center justify-center bg-gray-800 bg-opacity-75">
            <div class="bg-white p-6 rounded-lg shadow-lg max-w-lg w-full">
              <h2 class="text-xl font-bold mb-4">Vouchers</h2>
              <ng-container *ngIf="currentVouchers.length > 0; else noVouchers">
                <ul>
                  <li *ngFor="let voucher of currentVouchers" class="mb-4">
                    <h2 class="text-xl font-bold mb-4">Voucher - [{{ voucher.operationNumber }}]</h2>
                    <p class="p-2 rounded bg-orange-600 text-neutral-100">{{ voucher.note }} - {{
                      voucher.nameMethodTipoPago }}</p>
                    <img
                      [src]="voucher.base64 ? 'data:image/jpeg;base64,' + voucher.base64 : 'https://img.freepik.com/vector-premium/no-hay-foto-disponible-icono-vector-simbolo-imagen-predeterminado-imagen-proximamente-sitio-web-o-aplicacion-movil_87543-18055.jpg?w=1060'"
                      alt="Voucher" class="w-full h-auto rounded" />
                    <p class="p-2 rounded bg-orange-600 text-neutral-100">Fecha de Pago - {{ voucher.creationDate }}</p>
                    <hr class="h-1 bg-yellow-500">
                  </li>
                </ul>
              </ng-container>
              <ng-template #noVouchers>
                <p class="text-red-500">No hay vouchers disponibles.</p>
              </ng-template>
              <button (click)="closeModal()"
                class="mt-4 px-4 py-2 bg-yellow-500 text-white rounded hover:bg-orange-500">Cerrar</button>
            </div>
          </div>
          <div data-twe-datatable-pagination-ref=""
            class=" dark:bg-neutral-700 flex md:flex-row justify-end items-center py-2 text-sm flex-col leading-[1.6] dark:text-white text-surface  border-neutral-200 dark:border-white/10 bg-white dark:bg-body-dark">
            <div class="flex items-center order-3 md:order-none">
              <p class="font-light ">Rows per page:</p>
              <div class="w-[70px] mx-4 ">
                <div id="select-wrapper-250433" data-twe-select-wrapper-ref="">
                  <div data-twe-select-form-outline-ref="" class="relative"><input data-twe-select-input-ref=""
                      class="peer block min-h-[auto] w-full rounded border-0 bg-transparent outline-none transition-all duration-200 ease-linear focus:placeholder:opacity-100 peer-focus:text-primary data-[twe-input-state-active]:placeholder:opacity-100 motion-reduce:transition-none dark:text-white dark:placeholder:text-neutral-300 dark:peer-focus:text-primary [&amp;:not([data-twe-input-placeholder-active])]:placeholder:opacity-0 cursor-pointer data-[twe-input-disabled]:bg-neutral-200 data-[twe-input-disabled]:cursor-default group-data-[twe-was-validated]/validation:mb-4 dark:data-[twe-input-disabled]:bg-neutral-600 py-[0.32rem] px-3 leading-[1.6]"
                      type="text" role="listbox" aria-multiselectable="false" aria-disabled="false" aria-haspopup="true"
                      aria-expanded="false" readonly="true" data-twe-input-placeholder-active=""><span
                      class="absolute end-3 text-[0.8rem] cursor-pointer [&amp;>svg]:w-5 [&amp;>svg]:h-5 top-2 text-surface/50 dark:text-white/50">
                      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5"></path>
                      </svg>
                    </span>
                    <div class="group flex absolute left-0 top-0 w-full max-w-full h-full text-left pointer-events-none"
                      data-twe-input-notch-ref="" dir="ltr">
                      <div
                        class="pointer-events-none border border-solid box-border bg-transparent transition-all duration-200 ease-linear motion-reduce:transition-none left-0 top-0 h-full w-2 border-e-0 rounded-s-[0.25rem] group-data-[twe-input-focused]:border-e-0 group-data-[twe-input-state-active]:border-e-0 border-secondary-500 dark:border-neutral-400 group-data-[twe-input-focused]:shadow-notch-1 group-data-[twe-input-focused]:border-primary"
                        data-twe-input-notch-leading-ref="" style="width: 9px;"></div>
                      <div
                        class="pointer-events-none border border-solid box-border bg-transparent transition-all duration-200 ease-linear motion-reduce:transition-none grow-0 shrink-0 basis-auto w-auto max-w-[calc(100%-1rem)] h-full border-e-0 border-s-0 group-data-[twe-input-focused]:border-x-0 group-data-[twe-input-state-active]:border-x-0 group-data-[twe-input-focused]:border-t group-data-[twe-input-state-active]:border-t group-data-[twe-input-focused]:border-solid group-data-[twe-input-state-active]:border-solid group-data-[twe-input-focused]:border-t-transparent group-data-[twe-input-state-active]:border-t-transparent border-secondary-500 dark:border-neutral-400 group-data-[twe-input-focused]:shadow-notch-2 group-data-[twe-input-focused]:border-primary"
                        data-twe-input-notch-middle-ref="" style="width: 0px;"></div>
                      <div
                        class="pointer-events-none border border-solid box-border bg-transparent transition-all duration-200 ease-linear motion-reduce:transition-none grow h-full border-s-0 rounded-e-[0.25rem] group-data-[twe-input-focused]:border-s-0 group-data-[twe-input-state-active]:border-s-0 border-secondary-500 dark:border-neutral-400 group-data-[twe-input-focused]:shadow-notch-3 group-data-[twe-input-focused]:border-primary"
                        data-twe-input-notch-trailing-ref=""></div>
                    </div>
                    <div
                      class="pointer-events-none absolute top-0 left-3 mb-0 max-w-[90%] origin-[0_0] truncate text-neutral-500 transition-all duration-200 ease-out peer-aria-expanded:text-primary peer-focus:scale-[0.8] peer-focus:text-primary peer-data-[twe-input-state-active]:scale-[0.8] motion-reduce:transition-none dark:text-neutral-400 data-[twe-input-state-active]:scale-[0.8] dark:peer-focus:text-primary transform-none hidden data-[twe-input-state-active]:block">
                      10</div>
                  </div><select name="entries" class="select hidden" data-twe-datatable-select-ref="">
                    <option value="10" selected="">10</option>
                    <option value="25">25</option>
                    <option value="50">50</option>
                    <option value="200">200</option>
                  </select>
                </div>
              </div>
            </div>
            <div class="font-normal order-2 mb-3 md:order-none md:mb-0 [direction:ltr] "
              data-twe-datatable-pagination-nav-ref="">1 - 10 of 14</div>
            <div class="order-1 my-3 ms-4 md:order-none md:my-0 md:pe-1">

              <button data-twe-ripple-init="" data-twe-ripple-color="dark"
                class="inline-block rounded p-2.5 font-medium uppercase leading-normal transition duration-150 ease-in-out hover:bg-neutral-100 hover:text-primary-600 focus:text-primary-600 focus:outline-none focus:ring-0 active:text-primary-700 disabled:text-neutral-400 disabled:hover:bg-transparent motion-reduce:transition-none dark:hover:bg-[#404247] dark:disabled:hover:bg-transparent dark:disabled:text-[#9e9e9e] dark:hover:text-secondary-500 rtl:rotate-180"
                data-twe-datatable-pagination-left-ref="" disabled="">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                  stroke="currentColor" class="w-4 h-4">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5"></path>
                </svg>
              </button>
              <button data-twe-ripple-init="" data-twe-ripple-color="dark"
                class="inline-block rounded p-2.5 font-medium uppercase leading-normal transition duration-150 ease-in-out hover:bg-neutral-100 hover:text-primary-600 focus:text-primary-600 focus:outline-none focus:ring-0 active:text-primary-700 disabled:text-neutral-400 disabled:hover:bg-transparent motion-reduce:transition-none dark:hover:bg-[#404247] dark:disabled:hover:bg-transparent dark:disabled:text-[#9e9e9e] dark:hover:text-secondary-500 rtl:rotate-180"
                data-twe-datatable-pagination-right-ref="">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                  stroke="currentColor" class="w-4 h-4">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5"></path>
                </svg>
              </button>

            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>